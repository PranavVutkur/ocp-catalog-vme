import requests
import urllib3
import time
import json 

urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

API_BASE = "https://20.20.20.100"
API_Username = "hpeadmin"
API_Password = "Password!234"
int_name= "ocp"
BRANCH = "main"
giturl= "https://github.com/Rvbh90/Morpheus-catalog.git"
gituser= "Rvbh90"
gitpwd = "Git@7557"

def create_ocp_form(api_base, headers):
    url = f"{api_base}/api/library/option-type-forms"
    payload = '''{
  "optionTypeForm": {
    "code": "Input-RHOCP123",
    "config": {
      "enableVar": false,
      "form": "",
      "formField": "",
      "formOptions": "",
      "formType": "static"
    },
    "context": null,
    "description": null,
    "fieldGroups": [
      {
        "code": "968b616b-a7f4-4a96-9921-f57edbdb1fc2",
        "collapsible": false,
        "defaultCollapsed": false,
        "description": null,
        "localizedName": null,
        "name": "VME MANAGER",
        "options": [
          {
            "advanced": false,
            "code": "c421267f-6ceb-4022-96ad-e093c9729d2b",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "20.20.20.100",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 0,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "VME MANAGER NAME/IP",
            "fieldName": "vme_mgr_name",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "c421267f-6ceb-4022-96ad-e093c9729d2b",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "7b633e20-62b3-42b8-a4a2-629278a4517a",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "hpeadmin",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 1,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "VME USERNAME",
            "fieldName": "vme_mgr_user_name",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "7b633e20-62b3-42b8-a4a2-629278a4517a",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "74126893-0fcc-4332-9152-22a989efb32a",
            "config": {},
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "Password!234",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 2,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "VME PASSWORD",
            "fieldName": "vme_mgr_user_pwd",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "74126893-0fcc-4332-9152-22a989efb32a",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          }
        ],
        "visibleOnCode": null
      },
      {
        "code": "6c910ca1-abfb-4a28-b19a-f45d46c4543a",
        "collapsible": false,
        "defaultCollapsed": false,
        "description": null,
        "localizedName": null,
        "name": "VIRTUAL MACHINE CONFIGURATION",
        "options": [
          {
            "advanced": false,
            "code": "c9d9e5a4-251f-4816-b706-4db3f1e6805c",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "20.20.20.205",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 0,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "INFRA STATIC IP",
            "fieldName": "infra_ip",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "c9d9e5a4-251f-4816-b706-4db3f1e6805c",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "d4d261e1-5a83-4997-9ab4-7236f2d89160",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "infra",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 1,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "INFRA HOSTNAME",
            "fieldName": "infra_hostname",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "d4d261e1-5a83-4997-9ab4-7236f2d89160",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "c31c2875-2612-41a6-aaa2-f0181d060a0c",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "infra",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 2,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "INFRA IMAGE NAME",
            "fieldName": "infra_img",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "c31c2875-2612-41a6-aaa2-f0181d060a0c",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "b37f7ead-106e-41b4-b6dc-e6d31f30cced",
            "config": {},
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "20.20.20.2",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 3,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "GATEWAY",
            "fieldName": "instance_gateway",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "b37f7ead-106e-41b4-b6dc-e6d31f30cced",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "b288977d-2e28-4bfd-bc49-587bab00ee0e",
            "config": {},
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "20.20.20.2",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 4,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "DNS",
            "fieldName": "instance_dns",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "b288977d-2e28-4bfd-bc49-587bab00ee0e",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "d9c00513-a4a6-4b3e-ad83-c5a218c2d0ba",
            "config": {},
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "20.20.20.0/24",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 5,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "NETWORK CIDR",
            "fieldName": "net_cidr",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "d9c00513-a4a6-4b3e-ad83-c5a218c2d0ba",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "bde01091-e822-422c-86b1-15a9d27f0c78",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "admin1",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 6,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "HOST USERNAME",
            "fieldName": "instance_username",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "bde01091-e822-422c-86b1-15a9d27f0c78",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "67f5304c-92e4-497a-b677-c6022a021efc",
            "config": {},
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "Password1234",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 7,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "HOST PASSWORD",
            "fieldName": "instance_passwd",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "67f5304c-92e4-497a-b677-c6022a021efc",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "266722b8-cc12-4780-8012-6a53a6035a25",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "https://releases.ubuntu.com/jammy/ubuntu-22.04.5-live-server-amd64.iso",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 8,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "ISO URL",
            "fieldName": "instance_iso",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "266722b8-cc12-4780-8012-6a53a6035a25",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "3cc2d894-8c34-4355-bcb6-3d84cf0040f6",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "ubuntu 22.04 64-bit",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 9,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "ISO TYPE",
            "fieldName": "iso_type",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "3cc2d894-8c34-4355-bcb6-3d84cf0040f6",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "7220b18b-8e08-4f8a-9fdc-3dc6d799e4de",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "isv.local",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 10,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "DOMAIN NAME",
            "fieldName": "instance_domain",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "7220b18b-8e08-4f8a-9fdc-3dc6d799e4de",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "1356025c-60c5-4e7f-8a72-6c4df05ffa37",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "ocp",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 11,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "CLUSTEER SUB DOMAIN",
            "fieldName": "cluster_sudomain",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "1356025c-60c5-4e7f-8a72-6c4df05ffa37",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "0e867bc7-867f-4118-bd4d-ca60208ce7ae",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "enp19s0",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 12,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "NETWORK INTERFACE",
            "fieldName": "net_int",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "0e867bc7-867f-4118-bd4d-ca60208ce7ae",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "bf9822e9-7b75-4a41-b7ce-d9c9cbbedfad",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "20.20.20.206",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 13,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "INSTALLER STATIC IP",
            "fieldName": "installer_ip",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "bf9822e9-7b75-4a41-b7ce-d9c9cbbedfad",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "78952b6e-65e7-4565-b177-cdf5b73545b4",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "installer",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 14,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "INSTALLER HOSTNAME",
            "fieldName": "installer_hostname",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "78952b6e-65e7-4565-b177-cdf5b73545b4",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "5a92b20e-69fe-4811-a8a4-27ae353cdfe6",
            "config": {},
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "installer",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 15,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "INSTALLER IMAGE NAME",
            "fieldName": "installer_img",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "5a92b20e-69fe-4811-a8a4-27ae353cdfe6",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          }
        ],
        "visibleOnCode": null
      },
      {
        "code": "0bb05740-359f-4c16-bb1f-6f68cd4bb0c8",
        "collapsible": false,
        "defaultCollapsed": false,
        "description": "Testing the description for main heading",
        "localizedName": null,
        "name": "VIRTUAL MACHINE  DETAILS",
        "options": [
          {
            "advanced": false,
            "code": "ff3817d3-7c01-4e83-b02e-9376ade5a4f2",
            "config": {
              "addon": "",
              "addonPosition": "",
              "allowReadonly": false,
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": null,
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 0,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "GROUP",
            "fieldName": "vme_grp",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "ff3817d3-7c01-4e83-b02e-9376ade5a4f2",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "group",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "d20e6c96-f745-4be3-858d-7e1192f10ef2",
            "config": {
              "addon": "",
              "addonPosition": "",
              "cloudType": "",
              "filterResource": false,
              "group": "ff3817d3-7c01-4e83-b02e-9376ade5a4f2",
              "groupFieldType": "field",
              "groupId": "",
              "instanceTypeCode": "MVM",
              "instanceTypeFieldCode": "",
              "instanceTypeFieldType": "value",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": null,
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 1,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "CLOUD",
            "fieldName": "vme_cloud",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "d20e6c96-f745-4be3-858d-7e1192f10ef2",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "cloud",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "4ccb7dc7-4f37-4ab9-95b4-711019bd36e8",
            "config": {
              "cloudField": "d20e6c96-f745-4be3-858d-7e1192f10ef2",
              "cloudFieldType": "field",
              "cloudId": "",
              "groupField": "ff3817d3-7c01-4e83-b02e-9376ade5a4f2",
              "groupFieldType": "field",
              "groupId": "",
              "instanceTypeCode": "MVM",
              "instanceTypeFieldCode": "",
              "instanceTypeFieldType": "value"
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "2",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 2,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "LAYOUT ID",
            "fieldName": "vme_layout",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "4ccb7dc7-4f37-4ab9-95b4-711019bd36e8",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "layout",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "2d3dc86d-26eb-4f93-9b89-97e1d1cbdf25",
            "config": {
              "addon": "",
              "addonPosition": "",
              "cloudField": "d20e6c96-f745-4be3-858d-7e1192f10ef2",
              "cloudFieldType": "field",
              "cloudId": "",
              "defaultValue": "",
              "diskField": "",
              "groupField": "ff3817d3-7c01-4e83-b02e-9376ade5a4f2",
              "groupFieldType": "field",
              "groupId": "",
              "layoutField": "4ccb7dc7-4f37-4ab9-95b4-711019bd36e8",
              "layoutFieldType": "field",
              "layoutId": "",
              "multiSelect": false,
              "poolField": "43c510ec-38ee-4b5e-a621-378e670b19de",
              "poolFieldType": "field",
              "poolId": "",
              "retainDefault": false,
              "rows": null,
              "showPricing": false,
              "sortable": false,
              "step": 1
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "21",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 3,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "PLAN ID",
            "fieldName": "plan",
            "formField": true,
            "helpBlock": "Minimum resource for ubuntu 2 CPU,8GB Memory",
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "2d3dc86d-26eb-4f93-9b89-97e1d1cbdf25",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "plan",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "43c510ec-38ee-4b5e-a621-378e670b19de",
            "config": {
              "addon": "",
              "addonPosition": "",
              "cloudField": "d20e6c96-f745-4be3-858d-7e1192f10ef2",
              "cloudFieldType": "field",
              "cloudId": "",
              "groupField": "ff3817d3-7c01-4e83-b02e-9376ade5a4f2",
              "groupFieldType": "field",
              "groupId": "",
              "layoutField": "4ccb7dc7-4f37-4ab9-95b4-711019bd36e8",
              "layoutFieldType": "field",
              "layoutId": "",
              "planField": "",
              "planFieldType": "field",
              "planId": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": null,
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 4,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "CLUSTER",
            "fieldName": "vme_cluster",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "43c510ec-38ee-4b5e-a621-378e670b19de",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "resourcePool",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "6e95ef99-ac73-493e-b546-918c60e98e8c",
            "config": {},
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "mvm-volumes",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 5,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "DATASTORE",
            "fieldName": "mvm_store",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "6e95ef99-ac73-493e-b546-918c60e98e8c",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "91d63959-468e-44bf-a45d-8df7e17e3645",
            "config": {
              "addon": "",
              "addonPosition": "",
              "cloudField": "d20e6c96-f745-4be3-858d-7e1192f10ef2",
              "cloudFieldType": "field",
              "cloudId": "",
              "defaultValue": "",
              "enableDatastoreSelection": false,
              "enableDiskTypeSelection": false,
              "enableStorageTypeSelection": false,
              "groupField": "ff3817d3-7c01-4e83-b02e-9376ade5a4f2",
              "groupFieldType": "field",
              "groupId": "",
              "imageField": "",
              "imageId": "67",
              "layoutField": "4ccb7dc7-4f37-4ab9-95b4-711019bd36e8",
              "layoutFieldType": "field",
              "layoutId": "",
              "planField": "2d3dc86d-26eb-4f93-9b89-97e1d1cbdf25",
              "planFieldType": "field",
              "planId": "",
              "poolField": "43c510ec-38ee-4b5e-a621-378e670b19de",
              "poolFieldType": "field",
              "poolId": "",
              "retainDefault": false,
              "virtualImageFieldType": "value"
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "80",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 6,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "DISK SIZE",
            "fieldName": "vm_disk_size",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "91d63959-468e-44bf-a45d-8df7e17e3645",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "diskManager",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "d62b49f7-be3b-4b95-a04c-14dc67b71213",
            "config": {
              "addon": "",
              "addonPosition": "",
              "cloudField": "d20e6c96-f745-4be3-858d-7e1192f10ef2",
              "cloudFieldType": "field",
              "cloudId": "",
              "defaultValue": "",
              "enableIPModeSelection": false,
              "groupField": "ff3817d3-7c01-4e83-b02e-9376ade5a4f2",
              "groupFieldType": "field",
              "groupId": "",
              "layoutField": "4ccb7dc7-4f37-4ab9-95b4-711019bd36e8",
              "layoutFieldType": "field",
              "layoutId": "",
              "poolField": "43c510ec-38ee-4b5e-a621-378e670b19de",
              "poolFieldType": "field",
              "poolId": "",
              "retainDefault": false,
              "showNetworkTypeSelection": true
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": null,
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 7,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "NETWORK",
            "fieldName": "vme_network",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "d62b49f7-be3b-4b95-a04c-14dc67b71213",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "networkManager",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          }
        ],
        "visibleOnCode": null
      },
      {
        "code": "24b5b036-a5ca-439f-9886-db287ba09231",
        "collapsible": false,
        "defaultCollapsed": false,
        "description": null,
        "localizedName": null,
        "name": "OCP CLUSTER",
        "options": [
          {
            "advanced": false,
            "code": "1ad40a24-0207-4f86-adb2-f9e1aefd6bb8",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "20.20.20.121",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 0,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "BOOTSTRAP IP",
            "fieldName": "btstrap_ip",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "1ad40a24-0207-4f86-adb2-f9e1aefd6bb8",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "c6fa33eb-2df8-4d5d-bfbe-78350462ebe9",
            "config": {},
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "20.20.20.122",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 1,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "MASTER1 IP",
            "fieldName": "master1_ip1",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "c6fa33eb-2df8-4d5d-bfbe-78350462ebe9",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "c4ac3d65-7365-4481-b9c5-4d6963e37b14",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "20.20.20.123",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 2,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "MASTER2 IP",
            "fieldName": "master2_ip1",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "c4ac3d65-7365-4481-b9c5-4d6963e37b14",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "3e3cf0e9-599a-4205-9e0c-7f4d2ad4cada",
            "config": {},
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "20.20.20.124",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 3,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "MASTER3 IP",
            "fieldName": "master3_ip1",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "3e3cf0e9-599a-4205-9e0c-7f4d2ad4cada",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "a282bc14-ec4b-40bb-baab-84fad8a1d54a",
            "config": {
              "addon": "",
              "addonPosition": "",
              "retainDefault": false
            },
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "4.18.1",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 4,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "OCP VERSION",
            "fieldName": "ocp_version",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "a282bc14-ec4b-40bb-baab-84fad8a1d54a",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          },
          {
            "advanced": false,
            "code": "5c61bcd3-8311-456e-abd3-43adfe9440b7",
            "config": {},
            "contextualDefault": false,
            "creatable": true,
            "defaultValue": "your pull secret",
            "dependsOnCode": null,
            "description": null,
            "displayOrder": 5,
            "displayValueOnDetails": false,
            "editable": false,
            "enabled": true,
            "excludeFromSearch": false,
            "exportMeta": false,
            "fieldAddOn": null,
            "fieldClass": null,
            "fieldCode": null,
            "fieldComponent": null,
            "fieldContext": "config.customOptions",
            "fieldGroup": null,
            "fieldInput": null,
            "fieldLabel": "PULL SECRET",
            "fieldName": "pull_secret",
            "formField": true,
            "helpBlock": null,
            "helpBlockFieldCode": null,
            "isHidden": false,
            "isLocked": false,
            "labels": [],
            "localCredential": false,
            "maxVal": null,
            "minVal": null,
            "name": "5c61bcd3-8311-456e-abd3-43adfe9440b7",
            "noBlank": false,
            "optionList": null,
            "optionSource": null,
            "optionSourceType": null,
            "placeHolder": null,
            "required": false,
            "requireOnCode": null,
            "showOnCreate": true,
            "showOnEdit": true,
            "type": "text",
            "verifyPattern": null,
            "visibleOnCode": null,
            "wrapperClass": null
          }
        ],
        "visibleOnCode": null
      }
    ],
    "labels": [],
    "locked": false,
    "name": "Input-RHOCP-fromcode",
    "options": []
  }
}
    '''
    json_dict = json.loads(payload)
    response = requests.post(url, json=json_dict, headers=headers, verify=False)
    data = response.json()
    ocp_form_id = data['optionTypeForm']['id']
    print(ocp_form_id)
    return ocp_form_id

def create_vmecluster_form(api_base, headers):
    url = f"{api_base}/api/library/option-type-forms"
    payload = '''{
        "optionTypeForm": {
            "code": "vmeclustertestfromcode",
            "config": {
                "enableVar": false,
                "form": "",
                "formField": "",
                "formOptions": "",
                "formType": "static"
            },
            "context": null,
            "description": null,
            "fieldGroups": [
                {
                    "code": "1eb7c7ad-122c-44ff-a786-91b673fe847e",
                    "collapsible": true,
                    "defaultCollapsed": false,
                    "description": null,
                    "localizedName": null,
                    "name": "Cluster Details",
                    "options": [
                        {
                            "advanced": false,
                            "code": "8a8c3f0a-3ea0-4199-91ac-d5b7314625b1",
                            "config": {
                                "addon": "",
                                "addonPosition": "",
                                "retainDefault": false
                            },
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "vmecluster",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 0,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "Cluster_Name",
                            "fieldName": "cluster_name",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "8a8c3f0a-3ea0-4199-91ac-d5b7314625b1",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "131caa8a-f148-436b-86f6-c8952d58684c",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "HPE VM",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 1,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "Cluster_Type",
                            "fieldName": "cluster_type",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "131caa8a-f148-436b-86f6-c8952d58684c",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "655224a5-908d-4511-8d07-2aa3f92216de",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "ceph",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 2,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "Cluster_Layout",
                            "fieldName": "cluster_layout",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "655224a5-908d-4511-8d07-2aa3f92216de",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "660b2be0-b7c9-4927-93a4-35de4485223e",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "24.04",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 3,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "Cluster_Os_Version",
                            "fieldName": "ubuntu_version",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "660b2be0-b7c9-4927-93a4-35de4485223e",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "6f8582ce-569f-46fe-a5fa-78c2282eb731",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "/dev/sdg",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 4,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "Ceph_Disks",
                            "fieldName": "data_device",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "6f8582ce-569f-46fe-a5fa-78c2282eb731",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "9c899d12-6b82-4749-bd08-6fa561540796",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "800",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 5,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "vlan_ID1",
                            "fieldName": "vlan_id1",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "9c899d12-6b82-4749-bd08-6fa561540796",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "bec7a285-1307-4516-a835-db0318bd4954",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "216",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 6,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "vlan_ID2",
                            "fieldName": "vlan_id2",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "bec7a285-1307-4516-a835-db0318bd4954",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "f61e0623-7178-42eb-85e6-909437c14167",
                            "config": {
                                "addon": "",
                                "addonPosition": "",
                                "retainDefault": false
                            },
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "admin",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 7,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "ssh_username",
                            "fieldName": "ssh_username",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "f61e0623-7178-42eb-85e6-909437c14167",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "6290cca6-e388-4242-af83-926e2151d7b3",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "admin",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 8,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "ssh_password",
                            "fieldName": "ssh_password",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "6290cca6-e388-4242-af83-926e2151d7b3",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        }
                    ],
                    "visibleOnCode": null
                },
                {
                    "code": "72de3d19-c427-445e-9702-fe330941bec3",
                    "collapsible": false,
                    "defaultCollapsed": false,
                    "description": null,
                    "localizedName": null,
                    "name": "VME Manager Details",
                    "options": [
                        {
                            "advanced": false,
                            "code": "e7328652-b9f4-4322-8b85-92acc488b8d2",
                            "config": {
                                "addon": "",
                                "addonPosition": "",
                                "cloudField": "",
                                "cloudFieldType": "field",
                                "cloudId": "",
                                "retainDefault": false
                            },
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "20.20.20.100",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 0,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "Hostname",
                            "fieldName": "hostname",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "e7328652-b9f4-4322-8b85-92acc488b8d2",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "75cd2483-7afc-4d09-8b61-750e6ebe68f8",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "hpeadmin",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 1,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "username",
                            "fieldName": "username",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "75cd2483-7afc-4d09-8b61-750e6ebe68f8",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "3a699b4e-dad6-4730-abb1-679612c362bb",
                            "config": {
                                "canPeek": false
                            },
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "Password!234",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 2,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "password",
                            "fieldName": "password",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "3a699b4e-dad6-4730-abb1-679612c362bb",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "password",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        }
                    ],
                    "visibleOnCode": null
                },
                {
                    "code": "5c196770-c78c-4aee-bb16-d005c94acca8",
                    "collapsible": false,
                    "defaultCollapsed": false,
                    "description": null,
                    "localizedName": null,
                    "name": "Server Details",
                    "options": [
                        {
                            "advanced": false,
                            "code": "c688727e-3dd6-42eb-89a5-7bdebafff0d0",
                            "config": {
                                "addon": "",
                                "addonPosition": "",
                                "retainDefault": false
                            },
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "vme1.hpevme.local",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 0,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "Server_1_Hostname",
                            "fieldName": "server_1_hostname",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "c688727e-3dd6-42eb-89a5-7bdebafff0d0",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "325d66da-905f-46c0-849b-9042997e84f8",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "20.20.20.101",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 1,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "Server_1_IP",
                            "fieldName": "server_1_ip",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "325d66da-905f-46c0-849b-9042997e84f8",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "8e7f0cde-4804-4312-a1e9-986e7d313656",
                            "config": {
                                "addon": "",
                                "addonPosition": "",
                                "retainDefault": false
                            },
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "vme2.hpevme.local",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 2,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "server_2_hostname",
                            "fieldName": "server_2_hostname",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "8e7f0cde-4804-4312-a1e9-986e7d313656",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "c9bae0e8-0e30-4d19-8175-6cfe34f51a8a",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "20.20.20.102",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 3,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "server_2_ip",
                            "fieldName": "server_2_ip",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "c9bae0e8-0e30-4d19-8175-6cfe34f51a8a",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "7ec962fc-a6e2-4375-a427-f22545562fe1",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "vme3.hpevme.local",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 4,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "server_3_hostname",
                            "fieldName": "server_3_hostname",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "7ec962fc-a6e2-4375-a427-f22545562fe1",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        },
                        {
                            "advanced": false,
                            "code": "592b8816-17b4-4095-bb47-2e171511d91b",
                            "config": {},
                            "contextualDefault": false,
                            "creatable": true,
                            "defaultValue": "20.20.20.103",
                            "dependsOnCode": null,
                            "description": null,
                            "displayOrder": 5,
                            "displayValueOnDetails": false,
                            "editable": false,
                            "enabled": true,
                            "excludeFromSearch": false,
                            "exportMeta": false,
                            "fieldAddOn": null,
                            "fieldClass": null,
                            "fieldCode": null,
                            "fieldComponent": null,
                            "fieldContext": "config.customOptions",
                            "fieldGroup": null,
                            "fieldInput": null,
                            "fieldLabel": "server_3_ip",
                            "fieldName": "server_3_ip",
                            "formField": true,
                            "helpBlock": null,
                            "helpBlockFieldCode": null,
                            "isHidden": false,
                            "isLocked": false,
                            "labels": [],
                            "localCredential": false,
                            "maxVal": null,
                            "minVal": null,
                            "name": "592b8816-17b4-4095-bb47-2e171511d91b",
                            "noBlank": false,
                            "optionList": null,
                            "optionSource": null,
                            "optionSourceType": null,
                            "placeHolder": null,
                            "required": false,
                            "requireOnCode": null,
                            "showOnCreate": true,
                            "showOnEdit": true,
                            "type": "text",
                            "verifyPattern": null,
                            "visibleOnCode": null,
                            "wrapperClass": null
                        }
                    ],
                    "visibleOnCode": null
                }
            ],
            "labels": [],
            "locked": false,
            "name": "vme_cluster_from_code",
            "options": [
                {
                    "advanced": false,
                    "code": "91ad3350-83b8-4bb7-9c0b-15df81de15e8",
                    "config": {
                        "addon": "",
                        "addonPosition": "",
                        "allowReadonly": false,
                        "retainDefault": false
                    },
                    "contextualDefault": false,
                    "creatable": true,
                    "defaultValue": "vmegroup",
                    "dependsOnCode": null,
                    "description": null,
                    "displayOrder": 0,
                    "displayValueOnDetails": false,
                    "editable": false,
                    "enabled": true,
                    "excludeFromSearch": false,
                    "exportMeta": false,
                    "fieldAddOn": null,
                    "fieldClass": null,
                    "fieldCode": null,
                    "fieldComponent": null,
                    "fieldContext": "config.customOptions",
                    "fieldGroup": null,
                    "fieldInput": null,
                    "fieldLabel": "Group_Name",
                    "fieldName": "group_name",
                    "formField": true,
                    "helpBlock": null,
                    "helpBlockFieldCode": null,
                    "isHidden": false,
                    "isLocked": false,
                    "labels": [],
                    "localCredential": false,
                    "maxVal": null,
                    "minVal": null,
                    "name": "91ad3350-83b8-4bb7-9c0b-15df81de15e8",
                    "noBlank": false,
                    "optionList": null,
                    "optionSource": null,
                    "optionSourceType": null,
                    "placeHolder": null,
                    "required": false,
                    "requireOnCode": null,
                    "showOnCreate": true,
                    "showOnEdit": true,
                    "type": "text",
                    "verifyPattern": null,
                    "visibleOnCode": null,
                    "wrapperClass": null
                },
                {
                    "advanced": false,
                    "code": "64559eb3-6876-45ae-848e-44562380a6f9",
                    "config": {
                        "cloudType": "",
                        "filterResource": false,
                        "group": "",
                        "groupFieldType": "field",
                        "groupId": "",
                        "instanceTypeCode": "",
                        "instanceTypeFieldCode": "",
                        "instanceTypeFieldType": "field"
                    },
                    "contextualDefault": false,
                    "creatable": true,
                    "defaultValue": "vmecloud",
                    "dependsOnCode": null,
                    "description": null,
                    "displayOrder": 1,
                    "displayValueOnDetails": false,
                    "editable": false,
                    "enabled": true,
                    "excludeFromSearch": false,
                    "exportMeta": false,
                    "fieldAddOn": null,
                    "fieldClass": null,
                    "fieldCode": null,
                    "fieldComponent": null,
                    "fieldContext": "config.customOptions",
                    "fieldGroup": null,
                    "fieldInput": null,
                    "fieldLabel": "Cloud_Name",
                    "fieldName": "cloud_name",
                    "formField": true,
                    "helpBlock": null,
                    "helpBlockFieldCode": null,
                    "isHidden": false,
                    "isLocked": false,
                    "labels": [],
                    "localCredential": false,
                    "maxVal": null,
                    "minVal": null,
                    "name": "64559eb3-6876-45ae-848e-44562380a6f9",
                    "noBlank": false,
                    "optionList": null,
                    "optionSource": null,
                    "optionSourceType": null,
                    "placeHolder": null,
                    "required": false,
                    "requireOnCode": null,
                    "showOnCreate": true,
                    "showOnEdit": true,
                    "type": "text",
                    "verifyPattern": null,
                    "visibleOnCode": null,
                    "wrapperClass": null
                }
            ]
        }
    }'''

    json_dict = json.loads(payload)
    response = requests.post(url, json=json_dict, headers=headers, verify=False)
    data = response.json()
    vme_form_id = data['optionTypeForm']['id']
    print(vme_form_id)
    return vme_form_id


def get_access_token():
    url = f"{API_BASE}/oauth/token?client_id=morph-api&grant_type=password&scope=write"

    payload = {
        "username": API_Username,
        "password": API_Password
    }
    headers = {
        "accept": "application/json",
        "content-type": "application/x-www-form-urlencoded"
    }

    try:
        response = requests.post(url, data=payload, headers=headers, verify=False)
        print(response)
        if response.status_code == 200:
            print("Access token fetched successfully")
        response.raise_for_status()  
        
        token_data = response.json()
        return token_data.get("access_token", {"error": "No access token found"})
    except requests.exceptions.RequestException as e:
        return {"error": str(e)}

def create_integration(api_base, headers, default_branch, giturl, gituser, gitpwd, int_name):
    url = f"{api_base}/api/integrations"
    payload = {
        "integration": {
            "type": "git",
            "refresh": True,
            "config": {"defaultBranch": default_branch},
            "name": int_name,
            "serviceUrl": giturl,
            "serviceUsername": gituser,
            "servicePassword": gitpwd
        }
    }
    try:
        response = requests.post(url, json=payload, headers=headers, verify=False)
        print("Integration created:", response.status_code)
    except Exception as e:
        print("Integration creation failed:", e)

def get_integration_id(api_base, headers, int_name):
    url = f"{api_base}/api/integrations?max=25&offset=0&sort=name&direction=asc&name={int_name}&objects=false"

    try:
        response = requests.get(url, headers=headers, verify=False)
        response.raise_for_status()

        data = response.json()
        integrations = data.get("integrations", [])
        if integrations:
            REPO_ID = integrations[0].get("id")-1
            print(f"Integration ID for '{int_name}': {REPO_ID}")
            return REPO_ID
        else:
            print(f"No integration named '{int_name}' found.")
            return None

    except requests.exceptions.RequestException as e:
        print(f"❌ Request failed: {e}")
        return None

def create_tasks(api_base, headers, repo_id, branch, tasks):
    for task in tasks:
        payload = {
            "task": {
                "visibility": "private",
                "taskType": {"code": "script"},
                "executeTarget": "local",
                "retryable": False,
                "file": {
                    "sourceType": "repository",
                    "repository": {"id": repo_id},
                    "contentRef": branch,
                    "contentPath": task
                },
                "name": task
            }
        }
        try:
            response = requests.post(f"{api_base}/api/tasks", json=payload, headers=headers, verify=False)
            if response.status_code in [200, 201]:
                print(f"Task '{task}' created.")
            else:
                print(f"Failed to create task '{task}': {response.status_code}")
                print(response.text)
        except Exception as e:
            print(f"Error creating task '{task}':", e)

def get_task_ids_by_names(api_base, headers, task_list):
    all_tasks = []

    for name in task_list:
        params = {
            "max": 25,
            "type": "script",
            "offset": 0,
            "direction": "asc",
            "name": name  # Filter by task name
        }
        response = requests.get(f"{api_base}/api/tasks", headers=headers, params=params, verify=False)
        if response.status_code == 200:
            data = response.json()
            tasks = data.get("tasks", [])
            all_tasks.extend(tasks)
        else:
            print(f"Failed to get tasks for {name}: {response.status_code}")

    # Extract and return list of ids
    task_ids = [task['id'] for task in all_tasks]
    return task_ids

def create_ocp_wf(api_base, headers, task_ids, task_set_name="hello"):
    tasks = [{"taskPhase": "operation", "taskId": tid} for tid in task_ids]

    payload = {
        "taskSet": {
            "type": "operation",
            "visibility": "private",
            "tasks": tasks,
            "name": task_set_name
        }
    }

    try:
        response = requests.post(f"{api_base}/api/task-sets", json=payload, headers=headers, verify=False)
        response.raise_for_status()
        print("Task set created successfully:")
        data = response.json()
        ocp_wf_id = data['taskSet']['id']
        print(ocp_wf_id)
        return ocp_wf_id
    except requests.exceptions.RequestException as e:
        print("Failed to create task set:", e)
        return None

def create_vme_wf(api_base, headers, task_id, task_set_name="hello"):
    task_ids = [] 
    task_ids.append(task_id)
    tasks = [{"taskPhase": "operation", "taskId": tid} for tid in task_ids]

    payload = {
        "taskSet": {
            "type": "operation",
            "visibility": "private",
            "tasks": tasks,
            "name": task_set_name
        }
    }

    try:
        response = requests.post(f"{api_base}/api/task-sets", json=payload, headers=headers, verify=False)
        response.raise_for_status()
        print("Task set created successfully:")
        data = response.json()
        vme_wf_id = data['taskSet']['id']
        print(vme_wf_id)
        return vme_wf_id
    except requests.exceptions.RequestException as e:
        print("Failed to create task set:", e)
        return None

def create_vme_catalog(api_base, headers, vme_form_id, vme_wf_id):
    url = f"{api_base}/api/catalog-item-types"
    payload = {
  "catalogItemType": {
    "visibility": "private",
    "enabled": True,
    "featured": False,
    "allowQuantity": False,
    "config": {
      "config": {
        "createUser": True
      }
    },
    "formType": "form",
    "form": {
      "id": vme_form_id
    },
    "type": "workflow",
    "workflow": {
      "id": vme_wf_id
    },
    "name": "vme catalog from code",
    "code": "vmecatalog",
    "context": "appliance",
    "iconPath": "/branding/140x40/ubuntu.svg"
  }
}
    response = requests.post(url, json=payload, headers=headers, verify=False)
    print("Status code:", response.status_code)
    print("Response body:", response.text)

def create_ocp_catalog(api_base, headers, ocp_form_id, ocp_wf_id):
    url = f"{api_base}/api/catalog-item-types"
    payload = {
  "catalogItemType": {
    "visibility": "private",
    "enabled": True,
    "featured": False,
    "allowQuantity": False,
    "config": {
      "config": {
        "createUser": True
      }
    },
    "formType": "form",
    "form": {
      "id": ocp_form_id
    },
    "type": "workflow",
    "workflow": {
      "id": ocp_wf_id
    },
    "name": "ocp catalog from code",
    "code": "ocpcatalog",
    "context": "appliance",
    "iconPath": "/branding/140x40/rhel.svg"
  }
}
    response = requests.post(url, json=payload, headers=headers, verify=False)
    print("Status code:", response.status_code)
    print("Response body:", response.text)

if __name__ == "__main__":
    AUTH_TOKEN = get_access_token()
    if AUTH_TOKEN:
        HEADERS = {
            "accept": "application/json",
            "content-type": "application/json",
            "authorization": f"Bearer {AUTH_TOKEN}"
        }
    else:
        HEADERS = {
            "accept": "application/json",
            "content-type": "application/json",
            "authorization": "Bearer "  # empty or invalid token
        }

    task_list = [
        "0-vme_cluster_setup",
        "1-cluster_readiness_check",
        "2-upload_iso",
        "3-create_vm",
        "4-agent_install",
        "5-infra_setup",
        "6-installer_setup",
        "7-ocp_cluster"
    ]
    ocp_form_id = create_ocp_form(API_BASE, HEADERS)
    vme_form_id = create_vmecluster_form(API_BASE, HEADERS)

    create_integration(API_BASE, HEADERS, BRANCH, giturl, gituser, gitpwd, int_name)
    REPO_ID = get_integration_id(API_BASE, HEADERS, int_name)

    time.sleep(30)
    create_tasks(API_BASE, HEADERS, REPO_ID, BRANCH, task_list)
    task_ids = get_task_ids_by_names(API_BASE, HEADERS, task_list)
    
    ocp_wf_id = create_ocp_wf(API_BASE, HEADERS, task_ids[1:], "OCP_Workflow")
    vme_wf_id = create_vme_wf(API_BASE, HEADERS, task_ids[0], "VME_Workflow")
    time.sleep(5)
    create_vme_catalog(API_BASE, HEADERS, vme_form_id, vme_wf_id)
    create_ocp_catalog(API_BASE, HEADERS, ocp_form_id, ocp_wf_id)
